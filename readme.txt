The configuration of Virtual Pharmacist 								
								
Virtual Pharmacist is a free and open source web-based platform for personal genome interpretation.								
Please follow steps below to setup the platform successfully in your own server.								
								
1: Be sure to start the web service of your own server, such as apache and nginx							
2: Put all of the contents of the folder to the default folder for the website. 								
   for apache, the default folder storing the website is /var/www/html/							
3: specify the parameters of web service so as to support the file uploading from browser.								
	 		   file_uploads=On;					//allow the file uploading from the web browser
	 		   upload_max_filesize=20M	//set the maximum size of the uploading file				
	 		   post_max_size=80M				//set the maximum size for posting the file to web server	
								
4: Database configuration								
	At UNIX shell, type:
	mysql -uroot -p[your_root_password]							
	After connecting to MySQL, type:
	create database vp;							
	create user vp@localhost identified by 'vp123456';							
	grant all privileges on vp.* to vp; 							
								
	disconnect and then import the vp.sql database file into vp database by typing:							
								
	mysql -u vp -p vp < vp.sql;							
	The PHP script to communicte with the mysql database just created is mysql_connect.php							
								
5: make sure that you have enabled port 22 for uploading high-throughput sequence data by FTP								
								
6: Configuration of the uploading interface:								
	1): open  upload_js.php,upload1_js.php,upload2_js.php,upload3_js.php						
	2) change the url of sustc-genome.org.cn to your own url in the following files							
	 	a): upload_js.php						
                             flash_url : ""http://sustc-genome.org.cn/vp/upload_file/swfupload/swfupload.swf					
                             upload_url: ""http://sustc-genome.org.cn/vp/upload_file/upload.php 		 	 				
	 	b): upload1_js.php						
                             flash_url : ""http://sustc-genome.org.cn/vp/upload_file/swfupload/swfupload.swf					
                             upload_url: ""http://sustc-genome.org.cn/vp/upload_file/upload1.php	   					
	 	c): upload2_js.php						
                             flash_url : ""http://sustc-genome.org.cn/vp/upload_file/swfupload/swfupload.swf							
                             upload_url: ""http://sustc-genome.org.cn/vp/upload_file/upload2.php					
								
	 	d): upload3_js.php						
                             flash_url : ""http://sustc-genome.org.cn/vp/upload_file/swfupload/swfupload.swf						
                             upload_url: ""http://sustc-genome.org.cn/vp/upload_file/upload3.php
								
	  3): Uploaded file destinations							
  		a): microarray data:   						./upload_file/tmp_data			
  		b): VCF data:											./upload_file/vcf_data			
  		c): multiple sample VCF data 			./project			
								
7: Configuration of high-throughput sequence analysis pipeline								
	1): index building for human genome.							
		a): download the hg19.fa from the UCSC ftp and put it into ./bin/hg19						
		b): change directory to the ./bin/hg19						
		c): index the hg19.fa by bowtie2:						
			bowtie2-build hg19.fa hg19 (make sure that six index .bt files will be generated by bowtie2 after the indexing process)					
								
8: Remarks								
	Check whether all folders and files are granted the appropriate privileges. Please contact your system administrator for help if needed.							
								
								
								
							     	
